<tr id="<%= dom_id(agent_invocation) %>" class="raif-agent-invocation">
  <td><%= link_to "##{agent_invocation.id}", raif.admin_agent_invocation_path(agent_invocation) %></td>
  <td><small class="text-muted"><%= agent_invocation.created_at.rfc822 %></small></td>
  <td><small class="text-muted"><%= truncate(agent_invocation.task, length: 100) %></small></td>
  <td>
    <% if agent_invocation.completed_at? %>
      <span class="badge bg-success"><%= t("raif.admin.agent_invocations.agent_invocation.completed") %></span>
    <% elsif agent_invocation.failed_at? %>
      <span class="badge bg-danger"><%= t("raif.admin.agent_invocations.agent_invocation.failed") %></span>
    <% elsif agent_invocation.started_at? %>
      <span class="badge bg-warning"><%= t("raif.admin.agent_invocations.agent_invocation.running") %></span>
    <% else %>
      <span class="badge bg-secondary"><%= t("raif.admin.agent_invocations.agent_invocation.pending") %></span>
    <% end %>
  </td>
  <td><%= agent_invocation.iteration_count %> / <%= agent_invocation.max_iterations %></td>
  <td><small class="text-muted"><%= truncate(agent_invocation.final_answer, length: 100) if agent_invocation.final_answer %></small></td>
</tr>
